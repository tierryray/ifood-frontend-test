{"version":3,"sources":["assets/images/logo/ifood-red.png","services/api.js","contexts/auth.js","hooks/useAuth.js","routes/PrivateRoute.js","components/Header/styles.js","components/Search/styles.js","components/Search/index.js","components/FilterButton/styles.js","components/FilterButton/index.js","components/Header/index.js","pages/Home/Filters/TextFilter/index.js","pages/Home/Filters/SelectFilter/index.js","pages/Home/Filters/DateFilter/styles.js","pages/Home/Filters/DateFilter/index.js","pages/Home/Filters/styles.js","pages/Home/Filters/index.js","components/PlaylistCard/styles.js","components/PlaylistCard/index.js","components/Playlists/styles.js","components/Playlists/index.js","components/LoadingSpinner/styles.js","components/LoadingSpinner/index.js","pages/Home/index.js","pages/Login/styles.js","pages/Login/index.js","routes/routes.js","App.js","index.js"],"names":["module","exports","api","axios","create","baseURL","AuthContext","createContext","AuthProvider","children","useState","loading","accessToken","localStorage","getItem","defaults","headers","authorization","token","setToken","signIn","useCallback","a","hash","window","location","split","setItem","signOut","removeItem","Provider","value","signed","useAuth","useContext","PrivateRoute","Component","component","props","render","to","StyledAppBar","styled","AppBar","StyledToolbar","Toolbar","Logo","Box","SearchBox","div","SearchInput","SearchBar","Search","setSearchTerm","placeholder","onChange","onCancelSearch","StyledFilterButton","IconButton","isMobile","css","FilterIcon","FilterList","filtersVisibility","FilterButton","setFiltersVisibility","onClick","Header","position","Container","className","src","iFoodRedLogo","alt","TextFilter","name","rest","inputRef","useRef","materialInputRef","useField","fieldName","defaultValue","registerField","error","useEffect","ref","current","path","setValue","querySelector","classList","add","TextField","helperText","variant","size","style","zIndex","color","SelectFilter","label","options","selectRef","FormControl","margin","displayEmpty","inputProps","MenuItem","disabled","map","option","key","StyledDatePicker","ReactDatePicker","DatePicker","onTimestampChange","datepickerRef","undefined","date","setDate","handleTimestampChange","timestamp","dateFormat","selected","StyledForm","Form","Filters","onSubmit","filters","setFilters","limit","offset","params","setParams","select","setSelect","setTimestamp","formRef","handleTextChange","event","target","prevState","handleSelectChange","handleDateChange","formatedTimestamp","format","data","getData","setErrors","schema","Yup","shape","locale","country","nullable","transform","v","o","min","max","validate","abortEarly","submitForm","validationErrors","inner","forEach","message","get","dinamicParams","newFilters","filter","values","type","validation","entityType","primitiveType","id","console","log","toLowerCase","StyledCard","motion","PlayIcon","PlayCircleFilled","PlaylistCard","playlist","hoverVisibility","setHoverVisibility","Grid","item","md","sm","xs","initial","scale","animate","whileHover","onMouseEnter","onMouseLeave","images","url","rel","href","external_urls","spotify","Section","section","Playlists","playlists","container","spacing","LoadingSpinner","CircularProgress","Home","setPlaylists","filteredPlaylists","setFilteredPlaylists","searchTerm","setLoading","prop","newParams","items","response","status","toast","getFeaturedPlaylists","handleSubmit","includes","height","Collapse","in","StyledContainer","StyledBox","InfoBox","ButtonBox","LoginButton","button","darken","Login","handleSignIn","authEndpoint","process","toString","y","opacity","transition","ease","duration","img","h1","span","Routes","exact","theme","createMuiTheme","typography","App","ThemeProvider","CssBaseline","autoClose","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ee9dd0f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ifood-red.f6c764a5.png\";","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://api.spotify.com/v1',\r\n});\r\n\r\nexport default api;\r\n","import React, { createContext, useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport api from '../services/api';\r\n\r\nconst AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [loading] = useState(false);\r\n    const [token, setToken] = useState(() => {\r\n        const accessToken = localStorage.getItem('@spotify:access_token');\r\n\r\n        if (accessToken) {\r\n            api.defaults.headers.authorization = `Bearer ${accessToken}`;\r\n            return accessToken;\r\n        }\r\n\r\n        return null;\r\n    });\r\n\r\n    const signIn = useCallback(async () => {\r\n        const { hash } = window.location;\r\n        const accessToken = hash.split('#access_token=')[1];\r\n\r\n        if (!accessToken) return;\r\n\r\n        localStorage.setItem('@spotify:access_token', accessToken);\r\n\r\n        api.defaults.headers.authorization = `Bearer ${accessToken}`;\r\n\r\n        setToken(accessToken);\r\n    }, []);\r\n\r\n    const signOut = useCallback(() => {\r\n        localStorage.removeItem('@spotify:access_token');\r\n        setToken(null);\r\n    }, []);\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{ signed: token, signIn, signOut, loading }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default AuthContext;\r\n","import { useContext } from 'react';\r\n\r\nimport AuthContext from '../contexts/auth';\r\n\r\nconst useAuth = () => {\r\n    const auth = useContext(AuthContext);\r\n    return auth;\r\n};\r\n\r\nexport default useAuth;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nconst PrivateRoute = ({ component: Component, ...props }) => {\r\n    const { signed, loading } = useAuth();\r\n\r\n    if (loading) {\r\n        return <h1>Carregando...</h1>;\r\n    }\r\n\r\n    return (\r\n        <Route\r\n            {...props}\r\n            render={() =>\r\n                signed ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n    component: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import styled from 'styled-components';\r\n\r\nimport { AppBar, Box, Toolbar } from '@material-ui/core';\r\n\r\nexport const StyledAppBar = styled(AppBar)`\r\n    background: #fff;\r\n    box-shadow: inset 0 -1px 0 #dcdcdc;\r\n\r\n    .MuiToolbar-gutters {\r\n        padding: 10px 20px;\r\n    }\r\n`;\r\n\r\nexport const StyledToolbar = styled(Toolbar)`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    .toolbar__left {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nexport const Logo = styled(Box)`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    img {\r\n        width: 60px;\r\n    }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nimport SearchBar from 'material-ui-search-bar';\r\n\r\nexport const SearchBox = styled.div`\r\n    width: 100%;\r\n`;\r\n\r\nexport const SearchInput = styled(SearchBar)`\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n    padding: 2px 4px;\r\n    margin-left: 20px;\r\n    border: 1px solid #f2f2f2;\r\n    border-radius: 2px;\r\n    background: #f7f7f7;\r\n    transition: 0.2s ease-in-out all;\r\n    box-shadow: none;\r\n    border: 1px solid #f2f2f2;\r\n    max-width: 400px;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { SearchBox, SearchInput } from './styles';\r\n\r\nfunction Search({ setSearchTerm }) {\r\n    return (\r\n        <SearchBox>\r\n            <SearchInput\r\n                placeholder=\"Procurar...\"\r\n                onChange={(value) => setSearchTerm(value)}\r\n                onCancelSearch={() => setSearchTerm('')}\r\n            />\r\n        </SearchBox>\r\n    );\r\n}\r\n\r\nSearch.propTypes = {\r\n    setSearchTerm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Search;\r\n","import styled, { css } from 'styled-components';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { FilterList } from '@material-ui/icons';\r\n\r\nexport const StyledFilterButton = styled(IconButton)`\r\n    ${({ styled: { isMobile } }) =>\r\n        isMobile\r\n            ? css`\r\n                  @media screen and (min-width: 500px) {\r\n                      display: none;\r\n                  }\r\n              `\r\n            : css`\r\n                  @media screen and (max-width: 500px) {\r\n                      display: none;\r\n                  }\r\n              `}\r\n`;\r\n\r\nexport const FilterIcon = styled(FilterList)`\r\n    color: ${({ styled: { filtersVisibility } }) =>\r\n        filtersVisibility ? '#CCC' : '#ea1d2c'};\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { StyledFilterButton, FilterIcon } from './styles';\r\n\r\nfunction FilterButton({ filtersVisibility, setFiltersVisibility, isMobile }) {\r\n    return (\r\n        <StyledFilterButton\r\n            component=\"span\"\r\n            onClick={() => setFiltersVisibility(!filtersVisibility)}\r\n            styled={{ isMobile }}\r\n        >\r\n            <FilterIcon styled={{ filtersVisibility }} />\r\n        </StyledFilterButton>\r\n    );\r\n}\r\n\r\nFilterButton.propTypes = {\r\n    filtersVisibility: PropTypes.bool.isRequired,\r\n    setFiltersVisibility: PropTypes.func.isRequired,\r\n    isMobile: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FilterButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Container } from '@material-ui/core';\r\n\r\nimport { StyledAppBar, StyledToolbar, Logo } from './styles';\r\n\r\nimport Search from '../Search';\r\nimport FilterButton from '../FilterButton';\r\n\r\nimport iFoodRedLogo from '../../assets/images/logo/ifood-red.png';\r\n\r\nfunction Header({ filtersVisibility, setFiltersVisibility, setSearchTerm }) {\r\n    return (\r\n        <StyledAppBar position=\"static\">\r\n            <Container>\r\n                <StyledToolbar>\r\n                    <div className=\"toolbar__left\">\r\n                        <Logo>\r\n                            <img src={iFoodRedLogo} alt=\"iFood\" />\r\n                        </Logo>\r\n                        <Search setSearchTerm={setSearchTerm} />\r\n                    </div>\r\n                    <FilterButton\r\n                        filtersVisibility={filtersVisibility}\r\n                        setFiltersVisibility={setFiltersVisibility}\r\n                        isMobile={false}\r\n                    />\r\n                </StyledToolbar>\r\n            </Container>\r\n        </StyledAppBar>\r\n    );\r\n}\r\n\r\nHeader.propTypes = {\r\n    filtersVisibility: PropTypes.bool.isRequired,\r\n    setFiltersVisibility: PropTypes.func.isRequired,\r\n    setSearchTerm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { useField } from '@unform/core';\r\n\r\nimport { TextField } from '@material-ui/core';\r\n\r\nexport default function TextFilter({ name, ...rest }) {\r\n    const inputRef = useRef(null);\r\n    const materialInputRef = useRef(null);\r\n\r\n    const { fieldName, defaultValue, registerField, error } = useField(name);\r\n    useEffect(() => {\r\n        registerField({\r\n            name: fieldName,\r\n            ref: inputRef.current,\r\n            path: 'value',\r\n            setValue(ref, value) {\r\n                // eslint-disable-next-line no-param-reassign\r\n                ref.value = value;\r\n\r\n                materialInputRef.current\r\n                    .querySelector('label')\r\n                    .classList.add(\r\n                        'MuiFormLabel-filled',\r\n                        'MuiInputLabel-shrink'\r\n                    );\r\n            },\r\n        });\r\n    }, [fieldName, registerField]);\r\n\r\n    return (\r\n        <TextField\r\n            error={!!error}\r\n            ref={materialInputRef}\r\n            inputRef={inputRef}\r\n            defaultValue={defaultValue}\r\n            helperText={error}\r\n            name={name}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            style={{ zIndex: '0' }}\r\n            color=\"secondary\"\r\n            {...rest}\r\n        />\r\n    );\r\n}\r\n\r\nTextFilter.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n};\r\n","import React, { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Select } from 'unform-material-ui';\r\nimport { MenuItem, FormControl } from '@material-ui/core';\r\nimport { useField } from '@unform/core';\r\n\r\nexport default function SelectFilter({ name, label, options, ...rest }) {\r\n    const selectRef = useRef(null);\r\n    const { fieldName, defaultValue, registerField } = useField(name);\r\n    useEffect(() => {\r\n        registerField({\r\n            name: fieldName,\r\n            ref: selectRef.current,\r\n            path: 'value',\r\n        });\r\n    }, [fieldName, registerField]);\r\n\r\n    return (\r\n        <FormControl variant=\"outlined\" size=\"small\">\r\n            <Select\r\n                name={name}\r\n                defaultValue={defaultValue}\r\n                ref={selectRef}\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                color=\"secondary\"\r\n                displayEmpty\r\n                inputProps={{ 'aria-label': 'Without label' }}\r\n                {...rest}\r\n            >\r\n                <MenuItem value=\"\" disabled>\r\n                    <em>{label}</em>\r\n                </MenuItem>\r\n                {options.map((option) => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                        {option.label}\r\n                    </MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nSelectFilter.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    label: PropTypes.string.isRequired,\r\n    options: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\nimport ReactDatePicker from 'react-datepicker';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nexport const StyledDatePicker = styled(ReactDatePicker)`\r\n    border-radius: 4px;\r\n    border: 1px solid #ccc;\r\n    padding: 10px;\r\n`;\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useField } from '@unform/core';\r\n\r\nimport { StyledDatePicker } from './styles';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nexport default function DatePicker({ name, onTimestampChange, ...rest }) {\r\n    const datepickerRef = useRef(null);\r\n    const { fieldName, registerField, defaultValue } = useField(name);\r\n\r\n    const [date, setDate] = useState(defaultValue || undefined);\r\n\r\n    useEffect(() => {\r\n        registerField({\r\n            name: fieldName,\r\n            ref: datepickerRef.current,\r\n            path: 'props.selected',\r\n        });\r\n    }, [fieldName, registerField]);\r\n\r\n    const handleTimestampChange = useCallback(\r\n        (timestamp) => {\r\n            setDate(timestamp);\r\n            onTimestampChange(timestamp);\r\n        },\r\n        [onTimestampChange]\r\n    );\r\n\r\n    return (\r\n        <StyledDatePicker\r\n            dateFormat=\"dd/MM/yyyy\"\r\n            ref={datepickerRef}\r\n            selected={date}\r\n            onChange={handleTimestampChange}\r\n            {...rest}\r\n        />\r\n    );\r\n}\r\n\r\nDatePicker.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    onTimestampChange: PropTypes.func.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\nimport { Form } from '@unform/web';\r\n\r\nexport const StyledForm = styled(Form)`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 15px;\r\n\r\n    .unform__field {\r\n        margin: 10px;\r\n    }\r\n\r\n    @media screen and (max-width: 760px) {\r\n        flex-direction: column;\r\n        justify-content: flex-start;\r\n        margin-top: 0;\r\n\r\n        .unform__field {\r\n            margin: 5px 0;\r\n        }\r\n    }\r\n`;\r\n","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { format } from 'date-fns';\r\nimport * as Yup from 'yup';\r\n\r\nimport axios from 'axios';\r\n\r\nimport TextFilter from './TextFilter';\r\nimport SelectFilter from './SelectFilter';\r\nimport DateFilter from './DateFilter';\r\n\r\nimport { StyledForm } from './styles';\r\n\r\nfunction Filters({ onSubmit }) {\r\n    const filterEndpoint = 'http://www.mocky.io/v2/5a25fade2e0000213aa90776';\r\n\r\n    const [filters, setFilters] = useState([]);\r\n\r\n    const [params, setParams] = useState({\r\n        limit: 20,\r\n        offset: 1,\r\n    });\r\n    const [select, setSelect] = useState(null);\r\n    const [timestamp, setTimestamp] = useState('');\r\n    const formRef = useRef(null);\r\n\r\n    const handleTextChange = useCallback((event) => {\r\n        const { name, value } = event.target;\r\n        setParams((prevState) => ({\r\n            ...prevState,\r\n            [name]: value,\r\n        }));\r\n    }, []);\r\n\r\n    const handleSelectChange = useCallback((event) => {\r\n        setSelect(event.target.value);\r\n    }, []);\r\n\r\n    const handleDateChange = useCallback((date) => {\r\n        const formatedTimestamp = format(date, \"yyyy-MM-dd'T'HH:mm:ss\");\r\n        setTimestamp(formatedTimestamp);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const data = formRef.current.getData();\r\n\r\n                formRef.current.setErrors({});\r\n\r\n                const schema = Yup.object().shape({\r\n                    locale: Yup.string(),\r\n                    country: Yup.string(),\r\n                    timestamp: Yup.date(),\r\n                    limit: Yup.number()\r\n                        .nullable(true)\r\n                        .transform((v, o) => (o === '' ? null : v))\r\n                        .min(1, 'Deve ser maior que 1')\r\n                        .max(50, 'Deve ser menor que 50'),\r\n                    offset: Yup.number()\r\n                        .nullable(true)\r\n                        .transform((v, o) => (o === '' ? null : v)),\r\n                });\r\n\r\n                await schema.validate(data, {\r\n                    abortEarly: false,\r\n                });\r\n\r\n                formRef.current.submitForm();\r\n            } catch (err) {\r\n                const validationErrors = {};\r\n\r\n                if (err instanceof Yup.ValidationError) {\r\n                    err.inner.forEach((error) => {\r\n                        validationErrors[error.path] = error.message;\r\n                    });\r\n\r\n                    formRef.current.setErrors(validationErrors);\r\n                }\r\n            }\r\n        })();\r\n    }, [params, select, timestamp]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get(filterEndpoint);\r\n                const dinamicParams = {};\r\n\r\n                const newFilters = data.filters.map((filter) => {\r\n                    if (filter.values) {\r\n                        return {\r\n                            ...filter,\r\n                            type: 'SELECT',\r\n                        };\r\n                    }\r\n\r\n                    if (filter?.validation?.entityType) {\r\n                        if (filter.validation.entityType === 'DATE_TIME') {\r\n                            return {\r\n                                ...filter,\r\n                                type: 'DATE',\r\n                            };\r\n                        }\r\n                    }\r\n\r\n                    if (filter?.validation?.primitiveType) {\r\n                        if (filter.validation.primitiveType === 'INTEGER') {\r\n                            dinamicParams[filter.id] = '';\r\n                            return {\r\n                                ...filter,\r\n                                type: 'NUMBER',\r\n                            };\r\n                        }\r\n                    }\r\n                });\r\n\r\n                setParams(dinamicParams);\r\n                setFilters(newFilters);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <StyledForm ref={formRef} onSubmit={onSubmit}>\r\n            {filters.map((filter) => (\r\n                <div key={filter.id} className=\"unform__field\">\r\n                    {filter.type === 'SELECT' && (\r\n                        <SelectFilter\r\n                            key={filter.id}\r\n                            name={filter.id}\r\n                            label={filter.name}\r\n                            options={filter.values.map(({ name, value }) => ({\r\n                                value,\r\n                                label: name,\r\n                            }))}\r\n                            onChange={handleSelectChange}\r\n                        />\r\n                    )}\r\n\r\n                    {filter.type === 'DATE' && (\r\n                        <DateFilter\r\n                            key={filter.id}\r\n                            name={filter.id}\r\n                            onTimestampChange={handleDateChange}\r\n                        />\r\n                    )}\r\n\r\n                    {filter.type === 'NUMBER' && (\r\n                        <TextFilter\r\n                            key={filter.id}\r\n                            name={filter.id}\r\n                            type={filter.type.toLowerCase()}\r\n                            label={filter.name}\r\n                            onChange={handleTextChange}\r\n                        />\r\n                    )}\r\n                </div>\r\n            ))}\r\n        </StyledForm>\r\n    );\r\n}\r\n\r\nFilters.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Filters;\r\n","import styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\n\r\nimport PlayCircleFilled from '@material-ui/icons/PlayCircleFilled';\r\n\r\nexport const StyledCard = styled(motion.div)`\r\n    position: relative;\r\n\r\n    div {\r\n        position: relative;\r\n        cursor: pointer;\r\n        transition: 0.25s ease-in-out opacity;\r\n        opacity: 1;\r\n\r\n        &.visible {\r\n            opacity: 0.2;\r\n        }\r\n\r\n        img {\r\n            width: 100%;\r\n            height: 100%;\r\n            box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2),\r\n                0px 3px 4px 0px rgba(0, 0, 0, 0.14),\r\n                0px 1px 8px 0px rgba(0, 0, 0, 0.12);\r\n        }\r\n    }\r\n\r\n    a {\r\n        display: flex;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        opacity: 0;\r\n        transition: 0.25s ease-in-out opacity;\r\n        text-decoration: none;\r\n\r\n        &.visible {\r\n            opacity: 1;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const PlayIcon = styled(PlayCircleFilled)`\r\n    color: #000;\r\n    font-size: 52px;\r\n\r\n    @media screen and (min-width: 500px) {\r\n        font-size: 68px;\r\n    }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport { StyledCard, PlayIcon } from './styles';\r\n\r\nfunction PlaylistCard({ playlist }) {\r\n    const [hoverVisibility, setHoverVisibility] = useState(false);\r\n\r\n    return (\r\n        <Grid item md={3} sm={4} xs={6}>\r\n            <StyledCard\r\n                initial={{ scale: 1 }}\r\n                animate={{ scale: [0, 0.9] }}\r\n                whileHover={{ scale: 1 }}\r\n            >\r\n                <div\r\n                    onMouseEnter={() => setHoverVisibility(true)}\r\n                    onMouseLeave={() => setHoverVisibility(false)}\r\n                    className={`${hoverVisibility ? 'visible' : ''}`}\r\n                >\r\n                    <img alt={playlist.name} src={playlist.images[0].url} />\r\n                </div>\r\n                <a\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    href={playlist.external_urls.spotify}\r\n                    className={`${hoverVisibility ? 'visible' : ''}`}\r\n                    onMouseEnter={() => setHoverVisibility(true)}\r\n                    onMouseLeave={() => setHoverVisibility(false)}\r\n                >\r\n                    <PlayIcon />\r\n                </a>\r\n            </StyledCard>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nPlaylistCard.propTypes = {\r\n    playlist: PropTypes.objectOf(\r\n        PropTypes.oneOfType([\r\n            PropTypes.object,\r\n            PropTypes.array,\r\n            PropTypes.bool,\r\n            PropTypes.string,\r\n        ])\r\n    ).isRequired,\r\n};\r\n\r\nexport default PlaylistCard;\r\n","import styled from 'styled-components';\r\n\r\nexport const Section = styled.section`\r\n    margin: 10px 0;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport PlaylistCard from '../PlaylistCard';\r\n\r\nimport { Section } from './styles';\r\n\r\nfunction Playlists({ playlists }) {\r\n    return (\r\n        <Section>\r\n            <Grid container spacing={1}>\r\n                {playlists.map((playlist) => (\r\n                    <PlaylistCard key={playlist.id} playlist={playlist} />\r\n                ))}\r\n            </Grid>\r\n        </Section>\r\n    );\r\n}\r\n\r\nPlaylists.propTypes = {\r\n    playlists: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default Playlists;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: inherit;\r\n`;\r\n","import React from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nimport { Container } from './styles';\r\n\r\nfunction LoadingSpinner() {\r\n    return (\r\n        <Container>\r\n            <CircularProgress color=\"secondary\" />\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default LoadingSpinner;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Collapse, Container } from '@material-ui/core';\r\n\r\nimport { toast } from 'react-toastify';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport Header from '../../components/Header';\r\nimport Filters from './Filters';\r\nimport FilterButton from '../../components/FilterButton';\r\nimport Playlists from '../../components/Playlists';\r\nimport LoadingSpinner from '../../components/LoadingSpinner';\r\n\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nfunction Home() {\r\n    const { signOut } = useAuth();\r\n\r\n    //  Initial state of playlist\r\n    const [playlists, setPlaylists] = useState([]);\r\n    const [params, setParams] = useState({});\r\n    const [filtersVisibility, setFiltersVisibility] = useState(false);\r\n\r\n    const [filteredPlaylists, setFilteredPlaylists] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        async function getFeaturedPlaylists() {\r\n            const newParams = params;\r\n            // eslint-disable-next-line no-restricted-syntax\r\n            for (const prop in newParams) {\r\n                if (newParams[prop] === '' || newParams[prop] === undefined) {\r\n                    delete newParams[prop];\r\n                }\r\n            }\r\n\r\n            try {\r\n                setLoading(true);\r\n                const { data } = await api.get('/browse/featured-playlists', {\r\n                    params: newParams,\r\n                });\r\n                const { items } = data.playlists;\r\n                setPlaylists(items);\r\n            } catch (error) {\r\n                if (error.response.status === 401) {\r\n                    signOut();\r\n                } else {\r\n                    toast.error('Ops! Algo deu errado. Tente novamente!');\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n        getFeaturedPlaylists();\r\n    }, [params, signOut]);\r\n\r\n    const handleSubmit = useCallback((data) => {\r\n        setParams(data);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!searchTerm) {\r\n            setFilteredPlaylists(playlists);\r\n        }\r\n\r\n        setFilteredPlaylists(\r\n            playlists.filter((playlist) =>\r\n                playlist.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n            )\r\n        );\r\n    }, [searchTerm, playlists]);\r\n\r\n    return (\r\n        <div style={{ height: '100%' }}>\r\n            <Header\r\n                setSearchTerm={setSearchTerm}\r\n                filtersVisibility={filtersVisibility}\r\n                setFiltersVisibility={setFiltersVisibility}\r\n            />\r\n            <Container style={{ height: '85%' }}>\r\n                <FilterButton\r\n                    filtersVisibility={filtersVisibility}\r\n                    setFiltersVisibility={setFiltersVisibility}\r\n                    isMobile\r\n                />\r\n                <Collapse in={filtersVisibility}>\r\n                    <Filters onSubmit={handleSubmit} />\r\n                </Collapse>\r\n\r\n                {loading ? (\r\n                    <LoadingSpinner />\r\n                ) : (\r\n                    <Playlists playlists={filteredPlaylists} />\r\n                )}\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\nimport { Container, Box } from '@material-ui/core';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport const StyledContainer = styled(Container)`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100vw;\r\n    height: 100%;\r\n    background: #fafafa;\r\n    padding: 0 30px;\r\n`;\r\n\r\nexport const StyledBox = styled(motion.div)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nexport const InfoBox = styled(Box)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #3e3e3e;\r\n\r\n    h1 {\r\n        font-size: 36px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    span {\r\n        font-size: 19px;\r\n\r\n        &:last-child {\r\n            font-weight: bold;\r\n            color: #ea1d2c;\r\n        }\r\n    }\r\n\r\n    img {\r\n        width: 180px;\r\n        margin-bottom: 40px;\r\n    }\r\n\r\n    @media screen and (min-width: 600px) {\r\n        align-items: center;\r\n\r\n        h1 {\r\n            font-size: 42px;\r\n        }\r\n\r\n        span {\r\n            font-size: 24px;\r\n        }\r\n\r\n        img {\r\n            width: 300px;\r\n        }\r\n    }\r\n\r\n    @media screen and (min-width: 800px) {\r\n        h1 {\r\n            font-size: 32px;\r\n        }\r\n\r\n        span {\r\n            font-size: 19px;\r\n        }\r\n\r\n        img {\r\n            width: 200px;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ButtonBox = styled(Box)`\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n`;\r\n\r\nexport const LoginButton = styled(motion.button)`\r\n    background: #ea1d2c;\r\n    color: #fff;\r\n    padding: 10px 20px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    transition: 0.15s ease-out all;\r\n    padding: 20px;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    width: 100%;\r\n\r\n    &:hover {\r\n        background-color: ${darken(0.1, '#ea1d2c')};\r\n    }\r\n\r\n    @media screen and (min-width: 800px) {\r\n        padding: 10px;\r\n        font-size: 18px;\r\n        width: 200px;\r\n        padding: 20px 10px;\r\n    }\r\n`;\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { motion } from 'framer-motion';\r\n\r\nimport {\r\n    StyledContainer,\r\n    StyledBox,\r\n    InfoBox,\r\n    ButtonBox,\r\n    LoginButton,\r\n} from './styles';\r\n\r\nimport useAuth from '../../hooks/useAuth';\r\nimport iFoodRedLogo from '../../assets/images/logo/ifood-red.png';\r\n\r\nfunction Login() {\r\n    const { signed, signIn } = useAuth();\r\n\r\n    const handleSignIn = useCallback(() => {\r\n        const authEndpoint = `https://accounts.spotify.com/authorize?client_id=${\r\n            process.env.REACT_APP_SPOTIFY_CLIENT_ID\r\n        }&response_type=token&redirect_uri=${window.location.toString()}`;\r\n        window.location.href = authEndpoint;\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        signIn();\r\n    }, [signIn]);\r\n\r\n    return (\r\n        <StyledContainer>\r\n            {signed ? (\r\n                <Redirect to=\"/\" />\r\n            ) : (\r\n                <StyledBox\r\n                    animate={{ y: [-150, 0], opacity: [0, 1] }}\r\n                    transition={{\r\n                        ease: 'easeOut',\r\n                        duration: 1.0,\r\n                    }}\r\n                >\r\n                    <InfoBox>\r\n                        <motion.img src={iFoodRedLogo} alt=\"iFood\" />\r\n                        <motion.h1>SpotiFood</motion.h1>\r\n                        <motion.span>E ouvir música comendo, pode?</motion.span>\r\n                        <motion.span>Não só pode, como deve!</motion.span>\r\n                    </InfoBox>\r\n                    <ButtonBox>\r\n                        <LoginButton variant=\"contained\" onClick={handleSignIn}>\r\n                            BORA!\r\n                        </LoginButton>\r\n                    </ButtonBox>\r\n                </StyledBox>\r\n            )}\r\n        </StyledContainer>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nimport Home from '../pages/Home';\r\nimport Login from '../pages/Login';\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/login\" exact component={Login} />\r\n                <PrivateRoute path=\"/\" exact component={Home} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { AuthProvider } from './contexts/auth';\n\nimport Routes from './routes/routes';\n\nconst theme = createMuiTheme({\n    typography: {\n        'font-family': `\"Montserrat\", sans-serif`,\n    },\n});\n\n/**\n * TODO:\n * 1 - Consumir api de filtros e exibir eles dinamicamente\n * 2 - Montar Grid com lista das playlists e o card pra cada playlist\n * 3 - Funcionamento do searchbar\n * 5 - Layout! Capriche no negócio\n * 6 (opcional) - Expiração do token\n * OBS: considere usar o useMemo: https://medium.com/reactbrasil/react-usememo-na-pr%C3%A1tica-692110771c01\n */\n\nfunction App() {\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <AuthProvider>\n                <Routes />\n            </AuthProvider>\n            <ToastContainer position=\"top-right\" autoClose={5000} />\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\n\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}