(this.webpackJsonpspotifood=this.webpackJsonpspotifood||[]).push([[0],{112:function(e,n,t){e.exports=t.p+"static/media/ifood-red.f6c764a5.png"},207:function(e,n,t){e.exports=t(315)},212:function(e,n,t){},315:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(11),c=t.n(i),o=(t(212),t(361)),l=t(196),u=t(355),s=t(120),f=(t(213),t(40)),d=t.n(f),b=t(62),m=t(23),p=t(102),v=t.n(p),j=v.a.create({baseURL:"https://api.spotify.com/v1"}),O=Object(a.createContext)({}),x=function(e){var n=e.children,t=Object(a.useState)(!1),i=Object(m.a)(t,1)[0],c=Object(a.useState)((function(){var e=localStorage.getItem("@spotify:access_token");return e?(j.defaults.headers.authorization="Bearer ".concat(e),e):null})),o=Object(m.a)(c,2),l=o[0],u=o[1],s=Object(a.useCallback)(Object(b.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.location.hash,t=n.split("#access_token=")[1]){e.next=4;break}return e.abrupt("return");case 4:localStorage.setItem("@spotify:access_token",t),j.defaults.headers.authorization="Bearer ".concat(t),u(t);case 7:case"end":return e.stop()}}),e)}))),[]),f=Object(a.useCallback)((function(){localStorage.removeItem("@spotify:access_token"),u(null)}),[]);return r.a.createElement(O.Provider,{value:{signed:l,signIn:s,signOut:f,loading:i}},n)},y=O,h=t(101),g=t(20),E=t(59),w=function(){return Object(a.useContext)(y)},k=function(e){var n=e.component,t=Object(E.a)(e,["component"]),a=w(),i=a.signed;return a.loading?r.a.createElement("h1",null,"Carregando..."):r.a.createElement(g.b,Object.assign({},t,{render:function(){return i?r.a.createElement(n,t):r.a.createElement(g.a,{to:"/login"})}}))},S=t(356),C=t(360),T=t(13),M=t(14),_=t(351),V=t(353),z=t(362);function F(){var e=Object(T.a)(["\n    display: flex;\n    align-items: center;\n\n    img {\n        width: 60px;\n    }\n"]);return F=function(){return e},e}function L(){var e=Object(T.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .toolbar__left {\n        display: flex;\n        align-items: center;\n        width: 100%;\n    }\n"]);return L=function(){return e},e}function N(){var e=Object(T.a)(["\n    background: #fff;\n    box-shadow: inset 0 -1px 0 #dcdcdc;\n\n    .MuiToolbar-gutters {\n        padding: 10px 20px;\n    }\n"]);return N=function(){return e},e}var R=Object(M.b)(_.a)(N()),I=Object(M.b)(V.a)(L()),B=Object(M.b)(z.a)(F()),D=t(188),A=t.n(D);function q(){var e=Object(T.a)(["\n    display: flex;\n    align-items: center;\n    height: 40px;\n    padding: 2px 4px;\n    margin-left: 20px;\n    border: 1px solid #f2f2f2;\n    border-radius: 2px;\n    background: #f7f7f7;\n    transition: 0.2s ease-in-out all;\n    box-shadow: none;\n    border: 1px solid #f2f2f2;\n    max-width: 400px;\n"]);return q=function(){return e},e}function H(){var e=Object(T.a)(["\n    width: 100%;\n"]);return H=function(){return e},e}var P=M.b.div(H()),U=Object(M.b)(A.a)(q());var J=function(e){var n=e.setSearchTerm;return r.a.createElement(P,null,r.a.createElement(U,{placeholder:"Procurar...",onChange:function(e){return n(e)},onCancelSearch:function(){return n("")}}))},G=t(171),W=t(364);function K(){var e=Object(T.a)(["\n    color: ",";\n"]);return K=function(){return e},e}function Q(){var e=Object(T.a)(["\n                  @media screen and (max-width: 500px) {\n                      display: none;\n                  }\n              "]);return Q=function(){return e},e}function X(){var e=Object(T.a)(["\n                  @media screen and (min-width: 500px) {\n                      display: none;\n                  }\n              "]);return X=function(){return e},e}function Y(){var e=Object(T.a)(["\n    ","\n"]);return Y=function(){return e},e}var Z=Object(M.b)(G.a)(Y(),(function(e){return e.styled.isMobile?Object(M.a)(X()):Object(M.a)(Q())})),$=Object(M.b)(W.a)(K(),(function(e){return e.styled.filtersVisibility?"#CCC":"#ea1d2c"}));var ee=function(e){var n=e.filtersVisibility,t=e.setFiltersVisibility,a=e.isMobile;return r.a.createElement(Z,{component:"span",onClick:function(){return t(!n)},styled:{isMobile:a}},r.a.createElement($,{styled:{filtersVisibility:n}}))},ne=t(112),te=t.n(ne);var ae=function(e){var n=e.filtersVisibility,t=e.setFiltersVisibility,a=e.setSearchTerm;return r.a.createElement(R,{position:"static"},r.a.createElement(S.a,null,r.a.createElement(I,null,r.a.createElement("div",{className:"toolbar__left"},r.a.createElement(B,null,r.a.createElement("img",{src:te.a,alt:"iFood"})),r.a.createElement(J,{setSearchTerm:a})),r.a.createElement(ee,{filtersVisibility:n,setFiltersVisibility:t,isMobile:!1}))))},re=t(113),ie=t(53),ce=t(317),oe=t(61),le=t(26),ue=t(357);function se(e){var n=e.name,t=Object(E.a)(e,["name"]),i=Object(a.useRef)(null),c=Object(a.useRef)(null),o=Object(le.c)(n),l=o.fieldName,u=o.defaultValue,s=o.registerField,f=o.error;return Object(a.useEffect)((function(){s({name:l,ref:i.current,path:"value",setValue:function(e,n){e.value=n,c.current.querySelector("label").classList.add("MuiFormLabel-filled","MuiInputLabel-shrink")}})}),[l,s]),r.a.createElement(ue.a,Object.assign({error:!!f,ref:c,inputRef:i,defaultValue:u,helperText:f,name:n,variant:"outlined",size:"small",style:{zIndex:"0"},color:"secondary"},t))}var fe=t(197),de=t(324),be=t(363);function me(e){var n=e.name,t=e.label,i=e.options,c=Object(E.a)(e,["name","label","options"]),o=Object(a.useRef)(null),l=Object(le.c)(n),u=l.fieldName,s=l.defaultValue,f=l.registerField;return Object(a.useEffect)((function(){f({name:u,ref:o.current,path:"value"})}),[u,f]),r.a.createElement(de.a,{variant:"outlined",size:"small"},r.a.createElement(fe.a,Object.assign({name:n,defaultValue:s,ref:o,variant:"outlined",margin:"dense",color:"secondary",displayEmpty:!0,inputProps:{"aria-label":"Without label"}},c),r.a.createElement(be.a,{value:"",disabled:!0},r.a.createElement("em",null,t)),i.map((function(e){return r.a.createElement(be.a,{key:e.value,value:e.value},e.label)}))))}var pe=t(192),ve=t.n(pe);t(172);function je(){var e=Object(T.a)(["\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 10px;\n"]);return je=function(){return e},e}var Oe=Object(M.b)(ve.a)(je());function xe(e){var n=e.name,t=e.onTimestampChange,i=Object(E.a)(e,["name","onTimestampChange"]),c=Object(a.useRef)(null),o=Object(le.c)(n),l=o.fieldName,u=o.registerField,s=o.defaultValue,f=Object(a.useState)(s||void 0),d=Object(m.a)(f,2),b=d[0],p=d[1];Object(a.useEffect)((function(){u({name:l,ref:c.current,path:"props.selected"})}),[l,u]);var v=Object(a.useCallback)((function(e){p(e),t(e)}),[t]);return r.a.createElement(Oe,Object.assign({dateFormat:"dd/MM/yyyy",ref:c,selected:b,onChange:v},i))}var ye=t(194);function he(){var e=Object(T.a)(["\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n\n    .unform__field {\n        margin: 10px;\n    }\n\n    @media screen and (max-width: 760px) {\n        flex-direction: column;\n        justify-content: flex-start;\n        margin-top: 0;\n\n        .unform__field {\n            margin: 5px 0;\n        }\n    }\n"]);return he=function(){return e},e}var ge=Object(M.b)(ye.a)(he());var Ee=function(e){var n=e.onSubmit,t=Object(a.useState)([]),i=Object(m.a)(t,2),c=i[0],o=i[1],l=Object(a.useState)({limit:20,offset:1}),u=Object(m.a)(l,2),s=u[0],f=u[1],p=Object(a.useState)(null),j=Object(m.a)(p,2),O=j[0],x=j[1],y=Object(a.useState)(""),h=Object(m.a)(y,2),g=h[0],E=h[1],w=Object(a.useRef)(null),k=Object(a.useCallback)((function(e){var n=e.target,t=n.name,a=n.value;f((function(e){return Object(ie.a)(Object(ie.a)({},e),{},Object(re.a)({},t,a))}))}),[]),S=Object(a.useCallback)((function(e){x(e.target.value)}),[]),C=Object(a.useCallback)((function(e){var n=Object(ce.default)(e,"yyyy-MM-dd'T'HH:mm:ss");E(n)}),[]);return Object(a.useEffect)((function(){Object(b.a)(d.a.mark((function e(){var n,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w.current.getData(),w.current.setErrors({}),t=oe.d().shape({locale:oe.e(),country:oe.e(),timestamp:oe.b(),limit:oe.c().nullable(!0).transform((function(e,n){return""===n?null:e})).min(1,"Deve ser maior que 1").max(50,"Deve ser menor que 50"),offset:oe.c().nullable(!0).transform((function(e,n){return""===n?null:e}))}),e.next=6,t.validate(n,{abortEarly:!1});case 6:w.current.submitForm(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a={},e.t0 instanceof oe.a&&(e.t0.inner.forEach((function(e){a[e.path]=e.message})),w.current.setErrors(a));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[s,O,g]),Object(a.useEffect)((function(){Object(b.a)(d.a.mark((function e(){var n,t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("http://www.mocky.io/v2/5a25fade2e0000213aa90776");case 3:n=e.sent,t=n.data,a={},r=t.filters.map((function(e){var n,t;return e.values?Object(ie.a)(Object(ie.a)({},e),{},{type:"SELECT"}):(null===e||void 0===e||null===(n=e.validation)||void 0===n?void 0:n.entityType)&&"DATE_TIME"===e.validation.entityType?Object(ie.a)(Object(ie.a)({},e),{},{type:"DATE"}):(null===e||void 0===e||null===(t=e.validation)||void 0===t?void 0:t.primitiveType)&&"INTEGER"===e.validation.primitiveType?(a[e.id]="",Object(ie.a)(Object(ie.a)({},e),{},{type:"NUMBER"})):void 0})),f(a),o(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),r.a.createElement(ge,{ref:w,onSubmit:n},c.map((function(e){return r.a.createElement("div",{key:e.id,className:"unform__field"},"SELECT"===e.type&&r.a.createElement(me,{key:e.id,name:e.id,label:e.name,options:e.values.map((function(e){var n=e.name;return{value:e.value,label:n}})),onChange:S}),"DATE"===e.type&&r.a.createElement(xe,{key:e.id,name:e.id,onTimestampChange:C}),"NUMBER"===e.type&&r.a.createElement(se,{key:e.id,name:e.id,type:e.type.toLowerCase(),label:e.name,onChange:k}))})))},we=t(358),ke=t(48),Se=t(195),Ce=t.n(Se);function Te(){var e=Object(T.a)(["\n    color: #000;\n    font-size: 52px;\n\n    @media screen and (min-width: 500px) {\n        font-size: 68px;\n    }\n"]);return Te=function(){return e},e}function Me(){var e=Object(T.a)(["\n    position: relative;\n\n    div {\n        position: relative;\n        cursor: pointer;\n        transition: 0.25s ease-in-out opacity;\n        opacity: 1;\n\n        &.visible {\n            opacity: 0.2;\n        }\n\n        img {\n            width: 100%;\n            height: 100%;\n            box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2),\n                0px 3px 4px 0px rgba(0, 0, 0, 0.14),\n                0px 1px 8px 0px rgba(0, 0, 0, 0.12);\n        }\n    }\n\n    a {\n        display: flex;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        opacity: 0;\n        transition: 0.25s ease-in-out opacity;\n        text-decoration: none;\n\n        &.visible {\n            opacity: 1;\n        }\n    }\n"]);return Me=function(){return e},e}var _e=Object(M.b)(ke.a.div)(Me()),Ve=Object(M.b)(Ce.a)(Te());var ze=function(e){var n=e.playlist,t=Object(a.useState)(!1),i=Object(m.a)(t,2),c=i[0],o=i[1];return r.a.createElement(we.a,{item:!0,md:3,sm:4,xs:6},r.a.createElement(_e,{initial:{scale:1},animate:{scale:[0,.9]},whileHover:{scale:1}},r.a.createElement("div",{onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},className:"".concat(c?"visible":"")},r.a.createElement("img",{alt:n.name,src:n.images[0].url})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n.external_urls.spotify,className:"".concat(c?"visible":""),onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement(Ve,null))))};function Fe(){var e=Object(T.a)(["\n    margin: 10px 0;\n"]);return Fe=function(){return e},e}var Le=M.b.section(Fe());var Ne=function(e){var n=e.playlists;return r.a.createElement(Le,null,r.a.createElement(we.a,{container:!0,spacing:1},n.map((function(e){return r.a.createElement(ze,{key:e.id,playlist:e})}))))},Re=t(359);function Ie(){var e=Object(T.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: inherit;\n"]);return Ie=function(){return e},e}var Be=M.b.div(Ie());var De=function(){return r.a.createElement(Be,null,r.a.createElement(Re.a,{color:"secondary"}))};var Ae=function(){var e=w().signOut,n=Object(a.useState)([]),t=Object(m.a)(n,2),i=t[0],c=t[1],o=Object(a.useState)({}),l=Object(m.a)(o,2),u=l[0],f=l[1],p=Object(a.useState)(!1),v=Object(m.a)(p,2),O=v[0],x=v[1],y=Object(a.useState)([]),h=Object(m.a)(y,2),g=h[0],E=h[1],k=Object(a.useState)(""),T=Object(m.a)(k,2),M=T[0],_=T[1],V=Object(a.useState)(!1),z=Object(m.a)(V,2),F=z[0],L=z[1];Object(a.useEffect)((function(){function n(){return(n=Object(b.a)(d.a.mark((function n(){var t,a,r,i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(a in t=u)""!==t[a]&&void 0!==t[a]||delete t[a];return n.prev=2,L(!0),n.next=6,j.get("/browse/featured-playlists",{params:t});case 6:r=n.sent,i=r.data,o=i.playlists.items,c(o),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),401===n.t0.response.status?e():s.b.error("Ops! Algo deu errado. Tente novamente!");case 15:return n.prev=15,L(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[u,e]);var N=Object(a.useCallback)((function(e){f(e)}),[]);return Object(a.useEffect)((function(){M||E(i),E(i.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())})))}),[M,i]),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(ae,{setSearchTerm:_,filtersVisibility:O,setFiltersVisibility:x}),r.a.createElement(S.a,{style:{height:"85%"}},r.a.createElement(ee,{filtersVisibility:O,setFiltersVisibility:x,isMobile:!0}),r.a.createElement(C.a,{in:O},r.a.createElement(Ee,{onSubmit:N})),F?r.a.createElement(De,null):r.a.createElement(Ne,{playlists:g})))},qe=t(198);function He(){var e=Object(T.a)(["\n    background: #ea1d2c;\n    color: #fff;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    transition: 0.15s ease-out all;\n    padding: 20px;\n    font-weight: 500;\n    font-size: 16px;\n    width: 100%;\n\n    &:hover {\n        background-color: ",";\n    }\n\n    @media screen and (min-width: 800px) {\n        padding: 10px;\n        font-size: 18px;\n        width: 200px;\n        padding: 20px 10px;\n    }\n"]);return He=function(){return e},e}function Pe(){var e=Object(T.a)(["\n    display: flex;\n    justify-content: center;\n    width: 100%;\n"]);return Pe=function(){return e},e}function Ue(){var e=Object(T.a)(["\n    display: flex;\n    flex-direction: column;\n    color: #3e3e3e;\n\n    h1 {\n        font-size: 36px;\n        margin-bottom: 20px;\n    }\n\n    span {\n        font-size: 19px;\n\n        &:last-child {\n            font-weight: bold;\n            color: #ea1d2c;\n        }\n    }\n\n    img {\n        width: 180px;\n        margin-bottom: 40px;\n    }\n\n    @media screen and (min-width: 600px) {\n        align-items: center;\n\n        h1 {\n            font-size: 42px;\n        }\n\n        span {\n            font-size: 24px;\n        }\n\n        img {\n            width: 300px;\n        }\n    }\n\n    @media screen and (min-width: 800px) {\n        h1 {\n            font-size: 32px;\n        }\n\n        span {\n            font-size: 19px;\n        }\n\n        img {\n            width: 200px;\n        }\n    }\n"]);return Ue=function(){return e},e}function Je(){var e=Object(T.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n"]);return Je=function(){return e},e}function Ge(){var e=Object(T.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100vw;\n    height: 100%;\n    background: #fafafa;\n    padding: 0 30px;\n"]);return Ge=function(){return e},e}var We=Object(M.b)(S.a)(Ge()),Ke=Object(M.b)(ke.a.div)(Je()),Qe=Object(M.b)(z.a)(Ue()),Xe=Object(M.b)(z.a)(Pe()),Ye=Object(M.b)(ke.a.button)(He(),Object(qe.a)(.1,"#ea1d2c"));var Ze=function(){var e=w(),n=e.signed,t=e.signIn,i=Object(a.useCallback)((function(){var e="https://accounts.spotify.com/authorize?client_id=".concat("5424cb38e4fa4bd99deddd4c35eb0ee0","&response_type=token&redirect_uri=").concat(window.location.toString());window.location.href=e}),[]);return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement(We,null,n?r.a.createElement(g.a,{to:"/"}):r.a.createElement(Ke,{animate:{y:[-150,0],opacity:[0,1]},transition:{ease:"easeOut",duration:1}},r.a.createElement(Qe,null,r.a.createElement(ke.a.img,{src:te.a,alt:"iFood"}),r.a.createElement(ke.a.h1,null,"SpotiFood"),r.a.createElement(ke.a.span,null,"E ouvir m\xfasica comendo, pode?"),r.a.createElement(ke.a.span,null,"N\xe3o s\xf3 pode, como deve!")),r.a.createElement(Xe,null,r.a.createElement(Ye,{variant:"contained",onClick:i},"BORA!"))))};function $e(){return r.a.createElement(h.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/login",exact:!0,component:Ze}),r.a.createElement(k,{path:"/",exact:!0,component:Ae})))}var en=Object(l.a)({typography:{"font-family":'"Montserrat", sans-serif'}});var nn=function(){return r.a.createElement(u.a,{theme:en},r.a.createElement(o.a,null),r.a.createElement(x,null,r.a.createElement($e,null)),r.a.createElement(s.a,{position:"top-right",autoClose:5e3}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(nn,null)),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.5ee9dd0f.chunk.js.map